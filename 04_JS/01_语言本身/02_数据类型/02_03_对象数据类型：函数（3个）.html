<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /*
      三、Function：函数类型
      函数是什么？函数是指一段代码的集合，它由函数的返回值、函数名、函数的参数、函数的执行体四大部分组成，格式为：
      function 函数的返回值 函数名(函数的参数) {
        函数的执行体
      }

      * JS里要用function关键字来表明要定义一个函数，就像要用let关键字来表明要定义一个变量一样
      * 函数的返回值：在JS中，函数不需要声明返回值的类型，因为JS是一门动态类型语言，这意味着函数的返回值类型可以根据运行时的情况自动确定。如果一个函数的执行体里没有明确写return或者只写了return但是没写返回啥，那么函数默认都是返回undefined；当然你可以在函数的执行体里根据需要返回任何类型的数据
      * 函数名：拿到函数名就是拿到了函数的地址
      * 函数的参数：在JS中，函数参数已经是局部变量，因此不需要也不能在参数声明时使用let关键字，因为let关键字是用来在块级作用域内声明变量的，而函数参数的作用域是自动由JS引擎管理的，它们天然具有函数级作用域。使用let在参数列表中声明变量会导致语法错误，正确的做法是直接列出参数名称
    */

    /*
      1、函数的声明
      在C语言里，如果一个函数的实现发生在该函数的调用之前，那么这个函数是不需要声明的
      在JS里，因为所有函数的实现都会被提升到代码头部，所以我们不需要专门声明一个函数，直接实现和调用就可以了
    */

    /*
      2、函数的实现
    */
    // 无参无返回值
    function fun() {
      console.log(10);
    }

    // 无参有返回值
    function fun1() {
      return 10;
    }

    // 有参无返回值
    function fun2(i1, i2) {
      console.log(i1 + i2);
    }

    // 有参有返回值
    function fun3(i1, i2) {
      return i1 + i2;
    }

    /*
      3、函数的调用
    */
    fun(); // 10
    console.log(fun1()); // 10
    fun2(10, 20); // 30
    console.log(fun3(10, 20)); // 30

    /*
      4、函数的参数补充
    */
    /* 
      可选参数和必选参数
      当我们不给函数的参数赋默认值时，这个参数就是个必选参数，函数调用时就必须得传这个参数；当我们给函数的参数赋默认值时，这个参数就是个可选参数，函数调用时就可以选择性地传这个参数
    */
    function fun4(i1, i2 = 20) {
      console.log(i1 + i2);
    }
    fun4(10); // 30

    /*
      参数的值传递和引用传递
      如果函数的参数是基本数据类型，那么参数的传递方式为值传递，函数内部修改参数的值不会影响到外面的值
      如果函数的参数是对象数据类型，那么参数的传递方式为引用传递，函数内部修改参数的值会影响到外面的值
    */
    function fun5(i) {
      i = 12;
    }
    let num = 11;
    fun5(num);
    console.log(num); // 11

    function fun6(is) {
      is[0] = 13;
      is[1] = 14;
    }
    let nums = [11, 12];
    fun6(nums);
    console.log(nums); // [13, 14]

    /*
      函数的可变参数（参数前面加上...）
      如果参数的个数是不确定的，那我们可以用可变参数，但是一个函数只能有一个可变参数
    */
    function fun7(...args) {
      console.log(args);
    }
    fun7(11, 12) // [11, 12]，可见其实args变成了一个数组

    /*
      5、JS里函数是一等公民
      在很多面向对象的语言里（例如Java和OC），类是一等公民，所谓一等公民是指类创建出来的对象可以赋值给一个变量，也可以作为函数的参数和返回值，函数并不是一等公民
      而在JS里函数也是一等公民，这就意味着函数也可以赋值给一个变量，或者作为另一个函数的参数和返回值
    */
    // 函数也可以赋值给一个变量
    let fun8 = function () {
      console.log("JS里函数也是一等公民");
    }
    fun8();

    // 函数也可以作为另一个函数的参数
    function fun9(fun) {
      fun();
    }
    fun9(fun8);

    // 函数也可以作为另一个函数的返回值
    function fun10() {
      return fun8;
    }
    fun10()();

    /*
      6、Block/闭包/匿名函数/Lambda表达式
      OC里叫Block、Swift里叫闭包、Dart里叫匿名函数、Java|C++里叫Lambda表达式、JS里叫匿名函数
      它们都是类似的东西，它们和普通函数没什么大区别，只是没有名字而已，由函数的返回值、函数的参数、函数的执行体三大部分组成，格式为：
      function 函数的返回值 (函数的参数) {
        函数的执行体
      }
    */
    // 我们可以从函数是一等公民的角度来考虑匿名函数的应用场景
    // 场景1：匿名函数可以赋值给一个变量供将来调用，也就是说它不能单独存在，因为它单独存在没有意义，它没有名字将来你拿什么调用它，常用来做一个类属性类型的callback，比如我们经常在一个view里写一些点击的回调函数等，这些回调函数就是类的属性，将来我们就会把匿名函数赋值给这些属性
    // 场景2：我们可以把匿名函数作为另一个函数的参数来使用，也就是我们常说的回调，常用来函数参数类型的callback，比如我们经常在网络请求的函数里添加请求成功和请求失败的回调等，将来我们就会把匿名函数赋值给这些参数
    // 场景3：我们可以把匿名函数作为另一个函数的返回值来使用，类似于函数生成器的感觉，不过这个一般需要和第1条连用，不常用
    // 场景4：此外，立即执行的函数优先考虑使用匿名函数，常用来初始化需要一坨代码才能初始化的属性
  </script>
</body>

</html>