<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /*
      一、自动类型推断和动态类型语言
      Swift里定义一个变量的格式为[var name: String = "zhangsan";]或[var name = "zhangsan";]，可以不指定变量的数据类型，因为Swift里有自动类型推断，Swift里的自动类型推断是在编译时进行的
      JS里定义一个变量的格式为[let name = "zhangsan";]，也可以不指定变量的数据类型，因为JS里也有自动类型推断，只不过JS里的自动类型推断是在运行时进行的

      Swift是一门静态类型语言，是指name变量一旦被自动推断为了String类型，那它就不能再被赋值为其它数据类型的值，只能保持String类型
      name = 10; // 报错
      name = "lisi"; // 可以
      JS是一门动态类型语言，是指name变量就算被自动推断为了String类型，但它还是能再被赋值为其它任意数据类型的值，动态类型语言是把双刃剑，好处是灵活，坏处是容易出错
      name = 10; // 可以
      name = "lisi"; // 可以
    */

    /*
      二、数据类型分类
      JS里的数据类型分类为：
      1、基本数据类型（3个）
        * Boolean：布尔类型，只有两个值true和false
        * Number：数值类型，包含了其它语言里的整型和浮点型
        * String：字符串类型，其它语言里是对象数据类型而非基本数据类型
      2、对象数据类型（3个）
        * Array：数组类型
        * Object：对象类型，也就是其它语言里的字典类型
        * Function：函数类型，JS里函数是一等公民
      3、特殊数据类型（2个）
        * Undefined：只有一个值undefined
        * Null：只有一个值null
      4、自定义数据类型
    */

    /*
      三、typeof运算符和instanceof运算符
      JS里提供了两种常用的方式来判断一个变量是哪种类型，typeof运算符和instanceof运算符：
      * typeof运算符可以应用于任意数据类型的变量，返回一个字符串，能得到某个变量的数据类型的字符串格式
      * instanceof运算符只可以应用于对象数据类型的变量，返回一个布尔值，用来判断一个对象是否是某个类的实例
    */
    // 基本数据类型（3个）
    console.log(typeof (false)); // "boolean" ✅
    console.log(typeof (10)); // "number" ✅
    console.log(typeof (3.14)); // "number" ✅
    console.log(typeof ("Hello")); // "string" ✅

    // 对象数据类型（3个）
    console.log(typeof ([])) // "object" ⚠️
    console.log(typeof ({})) // "object" ✅
    console.log(typeof (function () { })) // "function" ⚠️

    // 特殊数据类型（2个）
    console.log(typeof (undefined)); // "undefined" ✅
    console.log(typeof (null)); // "object" ⚠️

    // 自定义数据类型
    class Person { }
    let person = new Person();
    console.log(typeof (person)); // "object" ⚠️
    console.log(typeof (Person)); // "function" ⚠️
    /*
      我们可以看到数组的数据类型是"object"，而不是"array"，也就是说在JS里数组本质上是一种特殊的对象类型
      我们可以看到函数的数据类型是"function"，而不是"() => void"这种这个函数真正的类型
      我们可以看到null的数据类型是"object"，而不是"null"，这是历史遗留问题，较低版本的JS只会把null这个值作为Object对象的一个特殊值来看待，后来才把它拖出来作为一个特殊数据类型Null的值，但是为了兼容低版本，就保持了null的数据类型为Object
      我们可以看到自定义类的数据类型为"function"，而不是Person类的元类，这是因为JS里的类其实不像OC里的类，它仅仅是对构造函数的封装而已，没有元类这种东西，还有person对象的数据类型也不是Person类，而是Object
    */

    // 对象数据类型（3个）
    console.log(([]) instanceof Array) // true ✅
    console.log(([]) instanceof Object) // true ⚠️ 可见数组本质上的确是一种特殊的对象类型
    console.log(({}) instanceof Object) // true ✅
    console.log((function () { }) instanceof Function) // true ✅
    // console.log((function () { }) instanceof (() => void)) // 报错 ⚠️ TS里才有"() => void"这种这个函数真正的类型

    // 自定义数据类型
    console.log((Person) instanceof Function) // true ✅
    console.log((person) instanceof Person) // true ✅
  </script>
</body>

</html>