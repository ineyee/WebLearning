<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <!--
    数组、字典的展开运算符一般应用在用一个数组、字典构建另外一个数组、字典时，或者深拷贝数组、字典时
  -->
  <!--
    一、数组的展开运算符
  -->
  <script>
    // 1、基本使用
    const array1 = [1, 2, 3];
    const array2 = [...array1, 4, 5];
    console.log(array1); // 1 2 3
    console.log(array2); // 1 2 3 4 5

    // 2、数组的展开运算符还可以实现数组的深拷贝
    const array = [1, 2, 3];

    // JS里，数组的直接赋值是一个浅拷贝、因为是指针赋值嘛，拷贝后两个指针指向同一个数组
    const shallowCopyArray = array;
    shallowCopyArray[1] = 1;
    console.log(array); // 1 1 3
    console.log(shallowCopyArray); // 1 1 3

    // 数组的展开运算符则可以实现数组的深拷贝，因为是完全创建了一个新数组、然后把旧数组里的元素打散放进新数组里去，拷贝后两个指针指向两个数组
    const deepCopyArray = [...array];
    deepCopyArray[1] = 11;
    console.log(array); // 1 1 3
    console.log(deepCopyArray); // 1 11 3
  </script>

  <!--
    二、字典的展开运算符
  -->
  <script>
    // 1、基本使用
    const obj1 = {
      'name': '张三',
      'sex': '男',
      'age': 11,
    };
    const obj2 = {
      ...obj1,
      'height': 188,
      'weight': 140,
    };
    console.log(obj1); // {name: "张三", sex: "男", age: 11}
    console.log(obj2); // {name: "张三", sex: "男", age: 11, height: 188, weight: 140}

    // 2、字典的展开运算符还可以实现字典的深拷贝
    const obj = {
      'name': '张三',
      'sex': '男',
      'age': 11,
    };

    // JS里，字典的直接赋值是一个浅拷贝、因为是指针赋值嘛，拷贝后两个指针指向同一个字典
    const shallowCopyObj = obj;
    shallowCopyObj["name"] = "李四";
    console.log(obj); // {name: "李四", sex: "男", age: 11}
    console.log(shallowCopyObj); // {name: "李四", sex: "男", age: 11, height: 188, weight: 140}

    // 字典的展开运算符则可以实现字典的深拷贝，因为是完全创建了一个新字典、然后把旧字典里的元素打散放进新字典里去，拷贝后两个指针指向两个字典
    const deepCopyObj = { ...obj };
    deepCopyObj["age"] = 12;
    console.log(obj); // {name: "李四", sex: "男", age: 11}
    console.log(shallowCopyObj); // {name: "李四", sex: "男", age: 12}
  </script>
</body>

</html>