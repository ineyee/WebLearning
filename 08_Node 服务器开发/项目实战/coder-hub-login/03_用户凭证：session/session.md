## 一、session 是什么

首先说一下 cookie 存在的问题，正如上一篇所演示，服务端给客户端设置 cookie 后，cookie 的值“123456”是直接以明文的形式存储在浏览器里，而这个值一旦被截获，攻击者就可以通过 JS 脚本把它注入到自己的浏览器里，进而直接访问我们的账户，也就是说 cookie 直接存储在客户端是不安全的

而 session 可以在一定程度上解决这个问题，session 是基于 cookie 机制实现的一套验证系统，session 跟 cookie 的本质区别是：session 是把“123456”这样的值存储在服务端、由服务端维护、然后再加一堆安全措施、所以相对更加安全一些，而 cookie 则是把“123456”这样的值直接存储在浏览器里。我们不要错误地认为 session 只是把“123456”加密后存储到客户端了，不是这样的，它是把数据存储从客户端转移到了服务端，这才是它更加安全的核心优势

只不过使用起来 session 和 cookie 没有什么区别

session 是某些网站为了辨别用户身份而存储在用户客户端（这里的客户端尤指浏览器）上的数据，session 可以分为：
* 内存 session：没有设置过期时间的 session 就是内存 session，内存 session 会在关闭浏览器时自动清除
* 磁盘 session：设置了过期时间的 session 就是磁盘 session，磁盘 session 会在到了过期时间时或者手动删除时清除

## 二、session 是怎么工作的

> 我们可以通过浏览器的【检查】-【Application】-【Storage】-【Cookies】来查看 session

* 客户端走登录接口
* **服务端判断到登录接口走成功后，服务端给客户端设置 session**
* 浏览器会自动把 session 存储在内存或磁盘中
* 后续客户端走其它接口时，浏览器会自动携带上 session 发起请求
* **服务端可以在这些接口里验证 session 来确定用户是否成功登录过，没登录过就返回登录凭证无效，登录过就返回相应的数据**