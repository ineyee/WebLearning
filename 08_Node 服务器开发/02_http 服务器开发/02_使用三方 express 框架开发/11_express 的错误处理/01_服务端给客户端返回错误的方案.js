// éœ€è¦é¦–å…ˆçŸ¥é“çš„æ˜¯ï¼Œexpress æ¡†æ¶ä¼šè‡ªåŠ¨å¤„ç† http åè®®çš„æ ‡å‡†é”™è¯¯ï¼Œæ¯”å¦‚ 404ã€500 ç­‰
// ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æœåŠ¡ç«¯å¼€å‘è€…ä¸éœ€è¦å…³å¿ƒä¸‡ä¸€å®¢æˆ·ç«¯è¯·æ±‚äº†ä¸€ä¸ªæœåŠ¡å™¨ä¸Šæ ¹æœ¬ä¸å­˜åœ¨çš„è·¯å¾„æ—¶å’‹åŠï¼Œå› ä¸ºæ¡†æ¶ä¼šè‡ªåŠ¨è¿”å› 404 é”™è¯¯ç»™å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç¼–å†™ä»»ä½•ä»£ç 
// å› æ­¤è¿™å°±æ„å‘³ç€æˆ‘ä»¬æœåŠ¡ç«¯å¼€å‘è€…åªéœ€è¦å…³å¿ƒä¸šåŠ¡é€»è¾‘çš„é”™è¯¯ï¼Œæ¯”å¦‚ token æ ¡éªŒå‡ºé”™ã€ç”¨æˆ·åæˆ–å¯†ç å‡ºé”™ç­‰ï¼Œè¿™äº›ä¸šåŠ¡é€»è¾‘çš„é”™è¯¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™ä»£ç è¿”å›é”™è¯¯ä¿¡æ¯ç»™å®¢æˆ·ç«¯

const express = require('express');
const app = express();
app.listen(8000, () => {
    console.log("ğŸš€æœåŠ¡å™¨å¯åŠ¨æˆåŠŸğŸš€")
});
app.use(express.json());

// æ–¹æ¡ˆä¸€ï¼šhttp å“åº”çŠ¶æ€ç å’Œä¸šåŠ¡çŠ¶æ€ç å¹³çº§ä½¿ç”¨ï¼Œä»¥å‰ç”¨çš„å¤šï¼Œæ¯”å¦‚
// http å“åº”çŠ¶æ€ç ï¼š
//     200 ä»£è¡¨è¯·æ±‚æˆåŠŸ
//     404 ä»£è¡¨è¯·æ±‚è·¯å¾„å‡ºé”™
//     500 ä»£è¡¨æœåŠ¡å™¨å†…éƒ¨å‡ºé”™
// ä¸šåŠ¡çŠ¶æ€ç ï¼š
//     900 ä»£è¡¨ token æ ¡éªŒå‡ºé”™
//     901 ä»£è¡¨ç”¨æˆ·åæˆ–å¯†ç å‡ºé”™
// 
// æ³¨æ„ï¼šhttp åè®®è§„å®š Status code must be greater than 99 and less than 1000
app.post("/login1", (req, res, next) => {
  if (req.headers.token !== "qwertyuiop") {
    res.status(900).json({
      message: "token æ ¡éªŒå‡ºé”™",
    });
  } else {
    if ((req.body.username === "admin" && req.body.password === "123456") == false) {
      res.status(901).json({
        message: "ç”¨æˆ·åæˆ–å¯†ç å‡ºé”™",
      });
    } else {
      // è¿™é‡Œçš„ http å“åº”çŠ¶æ€ç ä¸å†™çš„è¯ï¼Œé»˜è®¤å°±æ˜¯ 200
      res.json({
        message: "ç™»å½•æˆåŠŸ",
      });
    }
  }
});

// æ–¹æ¡ˆäºŒï¼šhttp å“åº”çŠ¶æ€ç å’Œä¸šåŠ¡çŠ¶æ€ç åˆ†å±‚ä½¿ç”¨ï¼Œç°åœ¨ç”¨çš„å¤šï¼Œæ¯”å¦‚
// http å“åº”çŠ¶æ€ç ï¼š
//     200 ä»£è¡¨è¯·æ±‚æˆåŠŸ
//     404 ä»£è¡¨è¯·æ±‚è·¯å¾„å‡ºé”™
//     500 ä»£è¡¨æœåŠ¡å™¨å†…éƒ¨å‡ºé”™
// ä¸šåŠ¡çŠ¶æ€ç ï¼š
//     0 ä»£è¡¨æ²¡æœ‰ä¸šåŠ¡é€»è¾‘é”™è¯¯
//     1001 ä»£è¡¨ token æ ¡éªŒå‡ºé”™
//     1002 ä»£è¡¨ç”¨æˆ·åæˆ–å¯†ç å‡ºé”™
// 
// è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºï¼š
// 1ã€ä¸šåŠ¡çŠ¶æ€ç è·Ÿ http æ ‡å‡†å“åº”çŠ¶æ€ç ä¸å†å¹³çº§ã€è€Œæ˜¯ä¸‹çº§ï¼Œæ‰€ä»¥å°±æ²¡æœ‰äº† 99~1000 çš„é™åˆ¶ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡é‡éœ€è¦éšä¾¿å®šä¹‰å¤šå°‘ä¸ªçŠ¶æ€ç ï¼Œä¹Ÿä¸è‡³äºè·Ÿ http æ ‡å‡†å“åº”çŠ¶æ€ç å†²çª
// 2ã€è¿™ç§æ–¹æ¡ˆç†è§£èµ·æ¥æ˜¯æ›´åˆç†çš„ï¼Œå…·ä½“åœ°è¯´å½“æœåŠ¡ç«¯è¿”å› 404ã€500 ç­‰é”™è¯¯æ—¶ï¼Œæ˜¯ä»£è¡¨ http è¯·æ±‚æœ¬èº«å‡ºäº†é—®é¢˜ï¼Œæ ¹æœ¬ä¸ä¼šèµ°ä¸šåŠ¡ï¼›è€Œå½“æœåŠ¡å™¨è¿”å›ä¸šåŠ¡çŠ¶æ€ç çš„é”™è¯¯æ—¶ï¼Œhttp è¯·æ±‚æœ¬èº«å…¶å®è¿˜æ˜¯æˆåŠŸçš„ã€ä¼šè¿”å› 200ã€è¿™å¾ˆåˆç†ï¼Œåªæ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘å‡ºé”™äº†è€Œå·²ï¼›å› æ­¤ä¸šåŠ¡çŠ¶æ€ç å˜æˆ http æ ‡å‡†å“åº”çŠ¶æ€ç çš„ä¸‹çº§ï¼Œæ˜¯æ›´åˆç†çš„
// 3ã€å¯¹äºæˆ‘ä»¬æœåŠ¡ç«¯å¼€å‘è€…æ¥è¯´ï¼Œè¿™ç§æ–¹æ¡ˆç¼–å†™èµ·ä»£ç æ¥å…¶å®æ˜¯æ›´æ¸…æ™°çš„ï¼Œå…·ä½“åœ°è¯´å°±æ˜¯ http æ ‡å‡†å“åº”çŠ¶æ€ç äº¤ç”± express æ¡†æ¶è‡ªåŠ¨å¤„ç†ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒä¸šåŠ¡é€»è¾‘çš„çŠ¶æ€ç ã€‚è€Œä¸šåŠ¡é€»è¾‘çš„çŠ¶æ€ç å¿…ç„¶å‘ç”Ÿåœ¨ http æ ‡å‡†å“åº”çŠ¶æ€ç ä¸º 200 çš„æƒ…å†µä¸‹ï¼Œå› ä¸ºå¦‚æœå‘ç”Ÿå…¶å®ƒ http æ ‡å‡†å“åº”çŠ¶æ€ç çš„è¯å‹æ ¹ä¸ä¼šèµ°ä¸šåŠ¡é€»è¾‘ã€ç›´æ¥å°±æ‹¦æˆªä¸‹æ¥äº†ã€‚æ€»ä¹‹è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æœåŠ¡ç«¯å¼€å‘è€…å°±å¯ä»¥åœ¨å†™ä»£ç çš„æ—¶å€™â€œæ— è§†â€ http æ ‡å‡†å“åº”çŠ¶æ€ç ã€å°±å¥½åƒä¸å­˜åœ¨è¿™ä¹ˆä¸€ç§ä¸œè¥¿ä¸€æ ·ï¼Œè€Œæ˜¯å…¨éƒ¨ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çŠ¶æ€ç çš„ç¼–å†™
app.post("/login2", (req, res, next) => {
  if (req.headers.token !== "qwertyuiop") {
    // è¿™é‡Œçš„ http å“åº”çŠ¶æ€ç ä¸å†™çš„è¯ï¼Œé»˜è®¤å°±æ˜¯ 200
    res.json({
      "code": 1001,
      "message": "token æ ¡éªŒå‡ºé”™",
    });
  } else {
    if ((req.body.username === "admin" && req.body.password === "123456") == false) {
      // è¿™é‡Œçš„ http å“åº”çŠ¶æ€ç ä¸å†™çš„è¯ï¼Œé»˜è®¤å°±æ˜¯ 200
      res.json({
        "code": 1002,
        "message": "ç”¨æˆ·åæˆ–å¯†ç å‡ºé”™",
      });
    } else {
      // è¿™é‡Œçš„ http å“åº”çŠ¶æ€ç ä¸å†™çš„è¯ï¼Œé»˜è®¤å°±æ˜¯ 200
      res.json({
        "code": 0,
        "message": "ç™»å½•æˆåŠŸ",
      });
    }
  }
});